[
    {
        "ids": [ "hostname", "ipv4" ],
        "type": "baremetal",
        "hostname": "prod-web01",
        "ipv4": [ "10.1.1.1", "10.1.1.2" ],
        "logic states": {
            "/usr/local/bin/app": {
                "id": {
                    "commit": "a9a6b91d193cdbe60b316f01df9f6e068b9e82bc",
                },
                "nick": "ourapp",
                "type": "code",
                "data states": {
                    "default db": {
                        "loc": {
                            "hostname": "prod-db01",
                            "port": 3306,
                            "proto": "tcp",
                            "schema": "app_db",
                            "interaction": "rw"
                        }
                    }
                }
            },
            "/usr/sbin/httpd": {
                "id": {
                    "version": "2.2.4"
                },
                "type": "binary",
                "config": {
                    "compiled modules": {
                        "mod_php": {
                            "loc": {
                                "path": "/etc/httpd/modules/libphp.so"
                            }
                        }
                    }
                }
            },
            "/etc/httpd/modules/libphp.so": {
                "type": "library",
                "php-sapi": "apache",
                "version": "5.5.13",
                "config-opts": [ "json", "mysql", "posix" ]
            }
        },
        "processes": [
            {
                "logic states": [
                    {
                        "path": "/usr/local/bin/app"
                    },
                    {
                        "path": "/usr/sbin/httpd"
                    }
                ],
                "user": "www",
                "group": "www",
                "pid": 1234,
                "cwd": "/var/run/app",
                "listen": [
                    {
                        "type": "port",
                        "proto": [ "tcp" ],
                        "number": 80,
                    }
                ]
            }
        ]
    },
    {
        "ids": [ "hostname", "ipv4" ],
        "type": "vm",
        "hostname": "prod-db01",
        "ipv4": "10.1.1.3",
        "logic states": {
            "/usr/libexec/mysqld": {
                "id": {
                    "version": "5.5.37"
                },
                "nick": "mysql",
                "type": "binary",
            }
        },
        "processes": [
            {
                "logic states": [
                    {
                        "path": "/usr/libexec/mysqld"
                    }
                ],
                "user": "mysql",
                "group": "mysql",
                "pid": 2345,
                "data container namespace": "var/lib/mysql",
                "data containers": [ "app_db" ],
                "listen": [
                    {
                        "type": "port",
                        "proto": [ "tcp" ],
                        "number": 3306,
                    },
                    {
                        "type": "unix",
                        "path": "/var/lib/mysql/mysql.sock"
                    }
                ]
            }
        ]
    },
    {
        "ids": [ "hostname", "ipv4" ],
        "type": "vm",
        "hostname": "stage",
        "ipv4": "10.1.1.5",
        "logic states": {
            "/usr/local/bin/app": {
                "id": {
                    "commit": "de10560eec7a1ed519731e4a17311e23599300c5",
                },
                "nick": "ourapp",
                "type": "code",
                "data states": {
                    "default db": {
                        "loc": {
                            "path": "/var/lib/mysql/mysql.sock",
                            "schema": "app_db",
                            "interaction": "rw"
                        }
                    }
                }
            },
            "/usr/sbin/httpd": {
                "id": {
                    "version": "2.2.6"
                },
                "type": "binary",
                "config": {
                    "compiled modules": {
                        "mod_php": {
                            "loc": {
                                "path": "/etc/httpd/modules/libphp.so"
                            }
                        }
                    }
                }
            },
            "/etc/httpd/modules/libphp.so": {
                "type": "library",
                "php-sapi": "apache",
                "version": "5.5.13",
                "config-opts": [ "json", "mysql", "posix" ]
            },
            "/usr/libexec/mysqld": {
                "id": {
                    "version": "5.5.40"
                },
                "nick": "mysql",
                "type": "binary",
            }
        },
        "processes": [
            {
                "logic states": [
                    {
                        "path": "/usr/local/bin/app"
                    },
                    {
                        "path": "/usr/sbin/httpd"
                    }
                ],
                "user": "www",
                "group": "www",
                "pid": 8090,
                "cwd": "/var/run/app",
                "listen": [
                    {
                        "type": "port",
                        "proto": [ "tcp" ],
                        "number": 80,
                    }
                ]
            },
            {
                "logic states": [
                    {
                        "path": "/usr/libexec/mysqld"
                    }
                ],
                "user": "mysql",
                "group": "mysql",
                "pid": 1129,
                "data container namespace": "var/lib/mysql",
                "data containers": [ "app_db" ],
                "listen": [
                    {
                        "type": "port",
                        "proto": [ "tcp" ],
                        "number": 3306,
                    },
                    {
                        "type": "unix",
                        "path": "/var/lib/mysql/mysql.sock"
                    }
                ]
            }
        ]
    },
    {
        "ids": [ "hostname", "ipv4" ],
        "type": "vm",
        "hostname": "qa",
        "ipv4": "10.1.1.7",
        "logic states": {
            "/usr/local/bin/app": {
                "id": {
                    "commit": "58c5329896cc2a623f1dd881d83969f90637bc9a",
                },
                "nick": "ourapp",
                "type": "code",
                "data states": {
                    "default db": {
                        "loc": {
                            "path": "/var/lib/mysql/mysql.sock",
                            "schema": "app_db",
                            "interaction": "rw"
                        }
                    }
                }
            },
            "/usr/sbin/httpd": {
                "id": {
                    "version": "2.2.6"
                },
                "type": "binary",
                "config": {
                    "compiled modules": {
                        "mod_php": {
                            "loc": {
                                "path": "/etc/httpd/modules/libphp.so"
                            }
                        }
                    }
                }
            },
            "/etc/httpd/modules/libphp.so": {
                "type": "library",
                "php-sapi": "apache",
                "version": "5.5.13",
                "config-opts": [ "json", "mysql", "posix" ]
            },
            "/usr/libexec/mysqld": {
                "id": {
                    "version": "5.5.40"
                },
                "nick": "mysql",
                "type": "binary",
            }
        },
        "processes": [
            {
                "logic states": [
                    {
                        "path": "/usr/local/bin/app"
                    },
                    {
                        "path": "/usr/sbin/httpd"
                    }
                ],
                "user": "www",
                "group": "www",
                "pid": 9213,
                "cwd": "/var/run/app",
                "listen": [
                    {
                        "type": "port",
                        "proto": [ "tcp" ],
                        "number": 80,
                    }
                ]
            },
            {
                "logic states": [
                    {
                        "path": "/usr/libexec/mysqld"
                    }
                ],
                "user": "mysql",
                "group": "mysql",
                "pid": 32771,
                "data container namespace": "/var/lib/mysql",
                "data containers": [ "app_db" ],
                "listen": [
                    {
                        "type": "port",
                        "proto": [ "tcp" ],
                        "number": 3306,
                    },
                    {
                        "type": "unix",
                        "path": "/var/lib/mysql/mysql.sock"
                    }
                ]
            }
        ]
    },
    {
        "ids": [ "hostname" ],
        "type": "vm",
        "hostname": "dev01",
        "logic states": {
            "/usr/local/bin/app": {
                "id": {
                    "commit": "aa41c0391914923302734db6ec61b9e62869aa01",
                },
                "nick": "ourapp",
                "type": "code",
                "data states": {
                    "default db": {
                        "loc": {
                            "path": "/var/lib/mysql/mysql.sock",
                            "schema": "app_db",
                            "interaction": "rw"
                        }
                    }
                }
            },
            "/usr/sbin/httpd": {
                "id": {
                    "version": "2.2.6"
                },
                "type": "binary",
                "config": {
                    "compiled modules": {
                        "mod_php": {
                            "loc": {
                                "path": "/etc/httpd/modules/libphp.so"
                            }
                        }
                    }
                }
            },
            "/etc/httpd/modules/libphp.so": {
                "type": "library",
                "php-sapi": "apache",
                "version": "5.5.13",
                "config-opts": [ "json", "mysql", "posix" ]
            },
            "/usr/libexec/mysqld": {
                "id": {
                    "version": "5.5.40"
                },
                "nick": "mysql",
                "type": "binary",
            }
        },
        "processes": [
            {
                "logic states": [
                    {
                        "path": "/usr/local/bin/app"
                    },
                    {
                        "path": "/usr/sbin/httpd"
                    }
                ],
                "user": "www",
                "group": "www",
                "pid": 42313,
                "cwd": "/var/run/app",
                "listen": [
                    {
                        "type": "port",
                        "proto": [ "tcp" ],
                        "number": 80,
                    }
                ]
            },
            {
                "logic states": [
                    {
                        "path": "/usr/libexec/mysqld"
                    }
                ],
                "user": "mysql",
                "group": "mysql",
                "pid": 141,
                "data container namespace": "/var/lib/mysql",
                "data containers": [ "app_db" ],
                "listen": [
                    {
                        "type": "port",
                        "proto": [ "tcp" ],
                        "number": 3306,
                    },
                    {
                        "type": "unix",
                        "path": "/var/lib/mysql/mysql.sock"
                    }
                ]
            }
        ]
    },
    {
        "ids": [ "hostname" ],
        "type": "vm",
        "hostname": "dev02",
        "logic states": {
            "/usr/local/bin/app": {
                "id": {
                    "commit": "6c9ae9859187f233eecc2241269056dcb17b68a3",
                },
                "nick": "ourapp",
                "type": "code",
                "data states": {
                    "default db": {
                        "loc": {
                            "path": "/var/lib/mysql/mysql.sock",
                            "schema": "app_db",
                            "interaction": "rw"
                        }
                    }
                }
            },
            "/usr/sbin/httpd": {
                "id": {
                    "version": "2.2.6"
                },
                "type": "binary",
                "config": {
                    "compiled modules": {
                        "mod_php": {
                            "loc": {
                                "path": "/etc/httpd/modules/libphp.so"
                            }
                        }
                    }
                }
            },
            "/etc/httpd/modules/libphp.so": {
                "type": "library",
                "php-sapi": "apache",
                "version": "5.5.13",
                "config-opts": [ "json", "mysql", "posix" ]
            },
            "/usr/libexec/mysqld": {
                "id": {
                    "version": "5.5.40"
                },
                "nick": "mysql",
                "type": "binary",
            }
        },
        "processes": [
            {
                "logic states": [
                    {
                        "path": "/usr/local/bin/app"
                    },
                    {
                        "path": "/usr/sbin/httpd"
                    }
                ],
                "user": "www",
                "group": "www",
                "pid": 42313,
                "cwd": "/var/run/app",
                "listen": [
                    {
                        "type": "port",
                        "proto": [ "tcp" ],
                        "number": 80,
                    }
                ]
            },
            {
                "logic states": [
                    {
                        "path": "/usr/libexec/mysqld"
                    }
                ],
                "user": "mysql",
                "group": "mysql",
                "pid": 141,
                "data container namespace": "/var/lib/mysql",
                "data containers": [ "app_db" ],
                "listen": [
                    {
                        "type": "port",
                        "proto": [ "tcp" ],
                        "number": 3306,
                    },
                    {
                        "type": "unix",
                        "path": "/var/lib/mysql/mysql.sock"
                    }
                ]
            }
        ]
    }
]
